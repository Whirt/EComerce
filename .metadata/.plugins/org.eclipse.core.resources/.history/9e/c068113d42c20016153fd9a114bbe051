/**
 * LoginFrame handles E-Commerce and decides whether to sign in 
 * as administrator or normal user. It's possible to an create account.
 * 
 * @author Hu Jia Cheng
 * @revision 1.0
 */

package login;

import java.awt.Color;
import java.awt.Container;
import java.awt.FlowLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

import javax.swing.BoxLayout;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JTextField;

public class LoginFrame extends JFrame implements ActionListener {
	
	// text settings
	private final static int TXTMAXLEN = 20 ;
	
	// frame settings
	private static final int START_X = 200 ;
	private static final int START_Y = 300 ;
	private static final int WIDTH = 320 ;
	private static final int HEIGHT = 230 ;
	
	// color
	private static final int R = 84 ;
	private static final int G = 108 ;
	private static final int B = 223 ;
	private Color background ;
	
	// frame's components
	private LogoPanel logoPanel ;
	
	private JPanel componentsPanel ;
	private JLabel nameLabel ;
	private JLabel passwdLabel ;
	private JLabel infoLabel ;

	private JTextField nameField ;
	private JTextField passwdField ;
	private JTextField errorField ;
	
	private JButton loginButton ;
	private JButton createNewAccountButton ; 

	public LoginFrame(String title) {
		super(title) ;
		setBounds(START_X, START_Y, WIDTH, HEIGHT) ;
		setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE) ;
		setResizable(false) ;
		
		background = new Color(R, G, B) ;
		
		logoPanel = new LogoPanel() ;
		
		nameLabel = new JLabel("Name ") ;
		passwdLabel = new JLabel("Password ") ;
		infoLabel = new JLabel("Info: ") ;
		nameLabel.setBackground(background) ;
		passwdLabel.setBackground(background) ;
		nameLabel.setForeground(Color.WHITE);
		
		nameField = new JTextField("", TXTMAXLEN) ;
		nameField.setEditable(true) ;
		passwdField = new JTextField("", TXTMAXLEN) ;
		passwdField.setEditable(true) ;
		errorField = new JTextField("", TXTMAXLEN) ;
		errorField.setEditable(false) ;
		
		loginButton = new JButton("Login") ;
		loginButton.addActionListener(this) ;
		createNewAccountButton = new JButton("Create new account") ;
		createNewAccountButton.addActionListener(this) ;
		
		FlowLayout flowLayout = new FlowLayout(FlowLayout.TRAILING) ;
		componentsPanel = new JPanel() ;
		componentsPanel.setLayout(flowLayout) ;
		componentsPanel.add(nameLabel) ; 
		componentsPanel.add(nameField) ;
		componentsPanel.add(passwdLabel) ; 
		componentsPanel.add(passwdField) ;
		componentsPanel.add(infoLabel) ;
		componentsPanel.add(errorField) ;
		componentsPanel.add(loginButton) ; 
		componentsPanel.add(createNewAccountButton) ;
		
		Container contentPane = getContentPane() ;
		BoxLayout boxLayout = new BoxLayout(contentPane, BoxLayout.Y_AXIS) ;
		//BorderLayout borderLayout = new BorderLayout() ;
		//borderLayout.minimumLayoutSize(contentPane) ;
		//borderLayout.setVgap(10) ;
		contentPane.setLayout(boxLayout) ;
		contentPane.add(logoPanel) ;
		contentPane.add(componentsPanel) ;
		
		setVisible(true) ;
	}
	public LoginFrame() { this("Login E-Commerce") ; }

	@Override
	public void actionPerformed(ActionEvent e) {
		Object source = e.getSource() ;
		if (source == loginButton) {
			System.out.println("Login button pressed") ;
		} else if (source == createNewAccountButton) {
			UserCreator uc = new UserCreator("New Account") ;
		}
	}
	
}
